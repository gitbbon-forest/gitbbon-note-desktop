# 동기화 상태 피드백 개선 - 테스트 시나리오

## 개요
`feature/sync-policy-improvement` 브랜치의 동기화 상태 피드백 및 설정 파일 자동 커밋 기능에 대한 테스트 시나리오입니다.

---

## 핵심 기능 테스트

### 1. 상태 표시줄 피드백

#### 1.1 동기화 중 상태 표시
- [ ] **준비**: 원격 저장소가 설정된 프로젝트
- [ ] **테스트**: 동기화 버튼을 클릭합니다
- [ ] **예상 결과**: 상태 표시줄에 `$(sync~spin) Syncing...` 아이콘이 표시됩니다
- [ ] **검증**: 툴팁이 "Synchronizing with GitHub..."로 표시되는지 확인합니다

#### 1.2 동기화 성공 상태
- [ ] **준비**: 동기화가 진행 중인 상태
- [ ] **테스트**: 동기화가 완료될 때까지 대기합니다
- [ ] **예상 결과**: 상태 표시줄에 `$(check) Synced` 아이콘이 표시됩니다
- [ ] **검증**: 3초 후 자동으로 `$(sync) Sync`로 복귀하는지 확인합니다

#### 1.3 동기화 실패 상태
- [ ] **준비**: 네트워크 연결을 끊거나 잘못된 토큰 설정
- [ ] **테스트**: 동기화 버튼을 클릭합니다
- [ ] **예상 결과**: 상태 표시줄에 `$(error) Sync Failed` 아이콘이 표시됩니다
- [ ] **검증**: 5초 후 자동으로 `$(sync) Sync`로 복귀하는지 확인합니다

### 2. 설정 파일 자동 커밋

#### 2.1 .gitbbon.json 생성 시 자동 커밋
- [ ] **준비**: 새 프로젝트 생성 후 `.gitbbon.json` 파일이 없는 상태
- [ ] **테스트**: 프로젝트 설정을 변경하여 `.gitbbon.json`이 생성되도록 합니다
- [ ] **예상 결과**: 파일 생성 즉시 자동으로 커밋이 생성됩니다
- [ ] **검증**: 콘솔 로그에 ".gitbbon.json changed/created" 메시지가 표시되는지 확인합니다
- [ ] **검증**: Git 그래프가 자동으로 새로고침되는지 확인합니다

#### 2.2 .gitbbon.json 수정 시 자동 커밋
- [ ] **준비**: `.gitbbon.json` 파일이 존재하는 프로젝트
- [ ] **테스트**: 프로젝트 설정을 변경하여 파일이 수정되도록 합니다
- [ ] **예상 결과**: 파일 수정 즉시 자동으로 커밋이 생성됩니다
- [ ] **검증**: 커밋 메시지가 자동으로 생성되는지 확인합니다
- [ ] **검증**: 변경사항이 Git 히스토리에 반영되는지 확인합니다

#### 2.3 여러 프로젝트에서의 파일 감지
- [ ] **준비**: 2개 이상의 프로젝트가 열려 있는 상태
- [ ] **테스트**: 각 프로젝트에서 `.gitbbon.json`을 순차적으로 수정합니다
- [ ] **예상 결과**: 각 프로젝트의 수정이 독립적으로 감지되고 커밋됩니다
- [ ] **검증**: 프로젝트 간 섞임이 없는지 확인합니다

### 3. ReallyFinal 백업 플로우 개선

#### 3.1 진행 상태 메시지 표시
- [ ] **준비**: "진짜최종" 복원 기능을 실행합니다
- [ ] **테스트**: 백업 및 복원 프로세스를 진행합니다
- [ ] **예상 결과**: 각 단계별로 진행 상태 메시지가 한국어로 표시됩니다
- [ ] **검증**: "복원 진행 중..." 메시지가 표시되는지 확인합니다
- [ ] **검증**: 진행률이 시각적으로 표시되는지 확인합니다

#### 3.2 백업 안전성 확인
- [ ] **준비**: 진짜최종 복원 전 커밋되지 않은 변경사항이 있는 상태
- [ ] **테스트**: 진짜최종 복원을 실행합니다
- [ ] **예상 결과**: 현재 작업 내용이 안전하게 백업됩니다
- [ ] **검증**: 데이터 손실이 없는지 확인합니다

---

## 엣지 케이스 테스트

### 4. 파일 감지 실패 시나리오

#### 4.1 파일 시스템 권한 문제
- [ ] **준비**: `.gitbbon.json`을 읽기 전용으로 설정
- [ ] **테스트**: 파일 수정을 시도합니다
- [ ] **예상 결과**: 에러가 우아하게 처리되고 앱이 크래시하지 않습니다
- [ ] **검증**: 적절한 에러 메시지가 표시되는지 확인합니다

#### 4.2 파일 감시자 중복 등록
- [ ] **준비**: 확장을 비활성화했다가 다시 활성화합니다
- [ ] **테스트**: `.gitbbon.json`을 수정합니다
- [ ] **예상 결과**: 커밋이 중복으로 생성되지 않습니다
- [ ] **검증**: 단일 커밋만 생성되는지 확인합니다

### 5. 상태 표시줄 동시성 테스트

#### 5.1 빠른 연속 동기화 클릭
- [ ] **테스트**: 동기화 버튼을 빠르게 2번 클릭합니다
- [ ] **예상 결과**: 중복 요청이 적절하게 처리됩니다
- [ ] **검증**: 상태 표시가 혼재되지 않는지 확인합니다

#### 5.2 동기화 중 설정 파일 수정
- [ ] **테스트**: 동기화 진행 중 `.gitbbon.json`을 수정합니다
- [ ] **예상 결과**: 두 작업이 독립적으로 처리됩니다
- [ ] **검증**: 상태 표시가 올바르게 업데이트되는지 확인합니다

---

## UI/UX 테스트

### 6. 상태 표시줄 시각적 품질

#### 6.1 아이콘 가시성
- [ ] **테스트**: 다양한 테마에서 상태 아이콘을 확인합니다
- [ ] **검증**: 라이트/다크 테마 모두에서 아이콘이 잘 보이는지 확인합니다
- [ ] **검증**: 회전 애니메이션이 부드러운지 확인합니다

#### 6.2 툴팁 명확성
- [ ] **테스트**: 각 상태에서 툴팁을 확인합니다
- [ ] **검증**: "Sync with GitHub" 기본 툴팁이 명확한지 확인합니다
- [ ] **검증**: 동기 중 툴팁이 적절한지 확인합니다

### 7. 진행 상태 메시지

#### 7.1 메시지 지역화
- [ ] **테스트**: 모든 진행 상태 메시지를 확인합니다
- [ ] **검증**: 한국어 메시지가 자연스러운지 확인합니다
- [ ] **검증**: 문법적 오류가 없는지 확인합니다

#### 7.2 메시지 타이밍
- [ ] **테스트**: 백업 프로세스의 각 단계에서 메시지 표시 타이밍을 확인합니다
- [ ] **검증**: 메시지가 적절한 시점에 표시되는지 확인합니다
- [ ] **검증**: 메시지가 너무 빨리 사라지지 않는지 확인합니다

---

## 성능 테스트

### 8. 파일 감지 성능

#### 8.1 대용량 설정 파일
- [ ] **준비**: 큰 크기의 `.gitbbon.json` 파일 (10KB+)
- [ ] **테스트**: 파일을 수정합니다
- [ ] **예상 결과**: 커밋이 합리적인 시간 내에 생성됩니다
- [ ] **검증**: UI가 응답하지 않는 시간이 없는지 확인합니다

#### 8.2 빈번한 파일 수정
- [ ] **테스트**: 1초 간격으로 10번 파일을 수정합니다
- [ ] **예상 결과**: 각 수정이 독립적으로 처리됩니다
- [ ] **검증**: 커밋이 누락되지 않는지 확인합니다

---

## 회귀 테스트

### 9. 기존 동기화 기능

#### 9.1 수동 동기화
- [ ] **준비**: 원격 저장소가 설정된 프로젝트
- [ ] **테스트**: 동기화 버튼을 클릭합니다
- [ ] **검증**: Pull → Push가 정상 작동하는지 확인합니다
- [ ] **검증**: 변경사항이 원격에 반영되는지 확인합니다

#### 9.2 자동 동기화 (30분)
- [ ] **준비**: Gitbbon을 30분 이상 실행 상태로 유지합니다
- [ ] **테스트**: 자동 동기화가 트리거되기를 기다립니다
- [ ] **검증**: Silent 모드로 동기화가 실행되는지 확인합니다
- [ ] **검증**: 사용자에게 방해가 되지 않는지 확인합니다

#### 9.3 Git 그래프 자동 새로고침
- [ ] **준비**: Git 그래프 뷰가 열려 있는 상태
- [ ] **테스트**: 동기화 또는 커밋을 실행합니다
- [ ] **예상 결과**: 그래프가 자동으로 새로고침됩니다
- [ ] **검증**: 최신 커밋이 그래프에 표시되는지 확인합니다

---

## 추가 개선 사항

### 10. 향후 개선 계획

#### 10.1 동기화 모드 선택기
- [ ] `auto`, `prompt`, `prefer-local`, `prefer-remote` 모드 구현
- [ ] 사용자 설정에서 기본 모드 선택 가능하도록 구현

#### 10.2 충돌 해결 전략
- [ ] `ours`, `theirs`, `union` 전략 구현
- [ ] 3-way merge를 통한 자동 충돌 해결 구현

#### 10.3 동기화 상태 추적
- [ ] `syncing`, `synced`, `conflict`, `error` 상태 세분화
- [ ] 상태별 시각적 표시 개선

---

## 참고 사항
- 이 브랜치는 상태 피드백 개선과 설정 파일 자동 커밋에 집중합니다
- 충돌 해결 전략과 동기화 모드 선택기는 향후 개선 예정입니다
- 테스트 시 콘솔 로그를 확인하여 디버깅 정보를 수집하세요
- `npm run start`에서 종료 코드 130은 정상적인 사용자 종료(Ctrl+C)입니다
